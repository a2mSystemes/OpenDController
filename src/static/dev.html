<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>___ODC Tetst page___</title>
    <link href="/styles/css/bootstrap/bootstrap.min.css" rel="stylesheet" type="text/css">
    <link href="/styles/css/bootstrap/bootstrap-grid.min.css" rel="stylesheet" type="text/css">
    <link href="/styles/css/bootstrap/bootstrap-reboot.min.css" rel="stylesheet" type="text/css">
</head>
<body>
    <style>
        body, html, div{
            margin: 0 auto;
            padding: 0 auto;
            font-family: Arial, Helvetica, sans-serif;
            background-color: rgb(34, 32, 32) !important;
            color:white;
        }
        .btn-space{
            margin: 2px;
        }
        .text-center{
            font-size: 2em !important;
        }
    </style>
    <div class="container">
        <div class="row align-items-start">
        <h1>Routes : </h1>
        <h3>Videoprojectors</h3>
        </div>
        <div class ="row align-items-start" >
            <div class="container">
                <div class="row align-items-start">
                    <div class="col mt-4">
                        <h4>Proj 1</h4>
                        <a class="btn btn-primary btn-space" type="button" href="/projector/1/power/on">VP 1 On</a>
                        <a class="btn btn-primary btn-space" type="button" href="/projector/1/power/off">VP 1 Off</a>
                        <a class="btn btn-primary btn-space" type="button" href="/projector/1/input/hdmi1">VP 1 HDMI1</a>
                        <a class="btn btn-primary btn-space" type="button" href="/projector/1/input/hdmi2">VP 1 HDMI2</a>
                        <a class="btn btn-primary btn-space" type="button" href="/projector/1/input/state">VP 1 input state</a>
                        <a class="btn btn-primary btn-space" type="button" href="/projector/1/power/state">VP 1 power state</a>
                    </div>
                    <div class="col mt-4">
                        <h4>Proj 2</h4>
                        <a class="btn btn-primary btn-space" type="button" href="/projector/2/power/on">VP 2 On</a>
                        <a class="btn btn-primary btn-space" type="button" href="/projector/2/power/off">VP 2 Off</a>
                        <a class="btn btn-primary btn-space" type="button" href="/projector/2/input/hdmi1">VP 2 HDMI1</a>
                        <a class="btn btn-primary btn-space" type="button" href="/projector/2/input/hdmi2">VP 2 HDMI2</a>
                        <a class="btn btn-primary btn-space" type="button" href="/projector/2/input/state">VP 2 input state</a>
                        <a class="btn btn-primary btn-space" type="button" href="/projector/2/power/state">VP 2 power state</a>
                    </div>
                    <div class="col mt-4">
                        <h4>Proj 3</h4>
                        <a class="btn btn-primary btn-space" type="button" href="/projector/3/power/on">VP 3 On</a>
                        <a class="btn btn-primary btn-space" type="button" href="/projector/3/power/off">VP 3 Off</a>
                        <a class="btn btn-primary btn-space" type="button" href="/projector/3/input/hdmi1">VP 3 HDMI1</a>
                        <a class="btn btn-primary btn-space" type="button" href="/projector/3/input/hdmi2">VP 3 HDMI2</a>
                        <a class="btn btn-primary btn-space" type="button" href="/projector/3/input/state">VP 3 input state</a>
                        <a class="btn btn-primary btn-space" type="button" href="/projector/3/power/state">VP 3 power state</a>
                    </div>
                </div>
                <div class="row align-items-start">
                    <div class="col mt-4">
                        <h4>Proj 4</h4>
                        <a class="btn btn-primary btn-space" type="button" href="/projector/4/power/on">VP 4 On</a>
                        <a class="btn btn-primary btn-space" type="button" href="/projector/4/power/off">VP 4 Off</a>
                        <a class="btn btn-primary btn-space" type="button" href="/projector/4/input/hdmi1">VP 4 HDMI1</a>
                        <a class="btn btn-primary btn-space" type="button" href="/projector/4/input/hdmi2">VP 4 HDMI2</a>
                        <a class="btn btn-primary btn-space" type="button" href="/projector/4/input/state">VP 4 input state</a>
                        <a class="btn btn-primary btn-space" type="button" href="/projector/4/power/state">VP 4 power state</a>
                    </div>
                    <div class="col mt-4">
                        <h4>Proj 5</h4>
                        <a class="btn btn-primary btn-space" type="button" href="/projector/5/power/on">VP 5 On</a>
                        <a class="btn btn-primary btn-space" type="button" href="/projector/5/power/off">VP 5 Off</a>
                        <a class="btn btn-primary btn-space" type="button" href="/projector/5/input/hdmi1">VP 5 HDMI1</a>
                        <a class="btn btn-primary btn-space" type="button" href="/projector/5/input/hdmi2">VP 5 HDMI2</a>
                        <a class="btn btn-primary btn-space" type="button" href="/projector/5/input/state">VP 5 input state</a>
                        <a class="btn btn-primary btn-space" type="button" href="/projector/5/power/state">VP 5 power state</a>
                    </div>
                    <div class="col mt-4">
                        <h4>Proj 6</h4>
                        <a class="btn btn-primary btn-space" type="button" href="/projector/6/power/on">VP 6 On</a>
                        <a class="btn btn-primary btn-space" type="button" href="/projector/6/power/off">VP 6 Off</a>
                        <a class="btn btn-primary btn-space" type="button" href="/projector/6/input/hdmi1">VP 6 HDMI1</a>
                        <a class="btn btn-primary btn-space" type="button" href="/projector/6/input/hdmi2">VP 6 HDMI2</a>
                        <a class="btn btn-primary btn-space" type="button" href="/projector/6/input/state">VP 6 input state</a>
                        <a class="btn btn-primary btn-space" type="button" href="/projector/6/power/state">VP 6 power state</a>
                    </div>
                </div>
            </div>
        </div>
        <h3>Lights</h3>
        <div>
            <a class="btn btn-primary btn-space" type="button" href="/light/channel/1/on">light ON</a>
            <a class="btn btn-primary btn-space" type="button" href="/light/channel/1/off">light Off</a>
        </div>
        <h3>Audio mixer</h3>
        <div>
            <a class="btn btn-primary btn-space" type="button" href="audio-mixer/state">Status</a>
            <a class="btn btn-primary btn-space" type="button" href="audio-mixer/input/select/1">Audio Input 1</a>
            <a class="btn btn-primary btn-space" type="button" href="audio-mixer/input/select/2">Audio Input 2</a>
            <a class="btn btn-primary btn-space" type="button" href="audio-mixer/input/select/3">Audio Input 3</a>
            <a class="btn btn-primary btn-space" type="button" href="audio-mixer/input/select/4">Audio Input 4</a>
            <a class="btn btn-primary btn-space" type="button" href="audio-mixer/input/select/5">Audio Input 5</a>
            <a class="btn btn-primary btn-space" type="button" href="audio-mixer/volume/mute">Mute</a>
            <a class="btn btn-primary btn-space" type="button" href="audio-mixer/volume/unmute">UnMute</a>
            <a class="btn btn-primary btn-space" type="button" href="audio-mixer/volume/up">VolUp</a>
            <a class="btn btn-primary btn-space" type="button" href="audio-mixer/volume/down">VolDown</a>
        </div>
        <h3>Video switcher</h3>
        <div>
            <a class="btn btn-primary btn-space" type="button" href="video-switcher/input/select/1">Input Video 1</a>
            <a class="btn btn-primary btn-space" type="button" href="video-switcher/input/select/2">Input Video 1</a>
            <a class="btn btn-primary btn-space" type="button" href="video-switcher/input/select/3">Input Video 1</a>
            <a class="btn btn-primary btn-space" type="button" href="video-switcher/input/select/4">Input Video 1</a>
            <a class="btn btn-primary btn-space" type="button" href="video-switcher/autoswitch/on">Auto select mode ON</a>
            <a class="btn btn-primary btn-space" type="button" href="video-switcher/autoswitch/off">Auto select mode OFF</a>
            <a class="btn btn-primary btn-space" type="button" href="video-switcher/edid/select/1">Audio auto</a>
            <a class="btn btn-primary btn-space" type="button" href="video-switcher/edid/select/2">Stereo Audio 2.0 Mode</a>
            <a class="btn btn-primary btn-space" type="button" href="video-switcher/edid/select/3">Dolby/DTS 5.1</a>
            <a class="btn btn-primary btn-space" type="button" href="video-switcher/edid/select/4">HD Audio 7.1</a>
            <a class="btn btn-primary btn-space" type="button" href="video-switcher/query/input/1">Status Input 1</a>
            <a class="btn btn-primary btn-space" type="button" href="video-switcher/query/input/2">Status Input 2</a>
            <a class="btn btn-primary btn-space" type="button" href="video-switcher/query/input/3">Status Input 3</a>
            <a class="btn btn-primary btn-space" type="button" href="video-switcher/query/input/4">Status Input 4</a>
            <a class="btn btn-primary btn-space" type="button" href="video-switcher/query/output">Status Output</a>
            <a class="btn btn-primary btn-space" type="button" href="video-switcher/query/tmds">Status TMDS</a>
            <a class="btn btn-primary btn-space" type="button" href="video-switcher/arc/on">Audio Return Channel ON</a>
            <a class="btn btn-primary btn-space" type="button" href="video-switcher/arc/off">Audio Return Channel ON</a>
        </div>
        <h3>Config</h3>
        <div>
            <a class="btn btn-primary btn-space" href="/config">Config</a>
            <a class="btn btn-primary btn-space" href="/config/alive">Config alive</a>
        </div>
        <div class="row">
            <div class="col mt-4">
                <p>if you see this page, it's probably because prod mode is switched off.
                    Your should consider sending an <a class="link-warning href="mailto:a-m.maurin@a2msystemes.fr">email to the developpers.
                </p>
                <p class="text-center" ><a href="https://av-i.fr" class="link-warning">AVI</a></p></p>
            </div>
        </div>
        
        <div class="row" id="return-container">
            <div class="col mt-4">
                
            </div>
        </div>
    </div>

    <script src="/js/bootstrap/bootstrap.min.js" type="text/javascript"></script>
    <script>
        document.addEventListener('click', function (event) {

        // If the clicked element doesn't have the right selector, bail
        if (!event.target.matches('.btn')) return;

        // Don't follow the link
        event.preventDefault();

        // Log the clicked element in the console
        console.log(event.target);
        let container = document.getElementById("return-container");
        // clear child
        let link = event.target.pathname
        if (link === 'https://av-i.fr'){
            return;
        }
        let child = container.lastChild;
        while(child){
            container.removeChild(child);
            child = container.lastChild;
        }
        let req = new XMLHttpRequest();
        req.overrideMimeType("application/json");
        req.open('GET', link, true);
        let rContainer = document.createElement('div');
        rContainer.classList.add('response-container');
        rContainer.classList.add('alert');
        rContainer.classList.add('alert-secondary');
        rContainer.classList.add('fade');
        rContainer.classList.add('show');
        rContainer.setAttribute('role', 'alert-secondary');
        rContainer.add
        req.onload  = () => {
            let jsonResponse = JSON.parse(req.responseText);
            console.log(jsonResponse)
            rContainer.insertAdjacentHTML('beforeend', '<p><h4>RESPONSE : </h4>');
            rContainer.insertAdjacentHTML('beforeend', JSON.stringify(jsonResponse));
            rContainer.insertAdjacentHTML('beforeend', '</p>');
            rContainer.classList.remove('error');
            rContainer.classList.add('success');
            container.appendChild(rContainer);
            console.log(container, rContainer);
        };
        req.onerror = () => {
            rContainer.insertAdjacentHTML('beforeend', '<p><h4>RESPONSE : </h4>');
            rContainer.insertAdjacentHTML('beforeend', req.statusText);
            rContainer.insertAdjacentHTML('beforeend', '</p>');
            container.appendChild(rContainer);

        } 
        req.send(null);

            

        }, false);


    </script>
</body>
</html>